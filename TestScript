import os
import re

def extract_feature_engineering(file_path):
    with open(file_path, 'r') as file:
        content = file.read()
        
    pattern = r'public\s+HashMap<String,\s*Object>\s+featureEngineering\s*\([^)]*\)\s*\{(.*?)\}'
    match = re.search(pattern, content, re.DOTALL)
    
    if match:
        return match.group(1).strip()
    return None

def process_java_files(directory, output_file):
    with open(output_file, 'w') as outfile:
        for root, _, files in os.walk(directory):
            for file in files:
                if file.endswith('.java'):
                    file_path = os.path.join(root, file)
                    feature_content = extract_feature_engineering(file_path)
                    
                    if feature_content:
                        outfile.write(f"// From file: {file}\n")
                        outfile.write(feature_content)
                        outfile.write("\n\n")

# Usage
input_directory = '/path/to/your/java/files'
output_file = 'combined_feature_engineering.txt'

process_java_files(input_directory, output_file)
print(f"Feature engineering content has been extracted and saved to {output_file}")
